@import (reference) "bootstrap/less/variables";
@import (reference) "@universityofwarwick/id7/less/variables";

@accent-blue: #e8f4f1;
@accent-yellow: #f9f5eb;

@accent-blue-bg: @accent-blue;
@accent-blue-border: darken(spin(@accent-blue-bg, -10), 5%);
@accent-blue-text: @text-color;

@accent-yellow-bg: @accent-yellow;
@accent-yellow-border: darken(spin(@accent-yellow-bg, -10), 5%);
@accent-yellow-text: @text-color;

@hint-colour: #666666;
@hint-font-size: (@main-font-size - 1px);

.make-coloured-box() {
  padding: @alert-padding;
  margin-bottom: @line-height-computed;
  border: 1px solid transparent;
}

.coloured-box-variant(@background; @border; @text-color) {
  color: @text-color;
  background-color: @background;
  border-color: @border;

  hr {
    border-top-color: darken(@border, 5%);
  }
}

.mitcircs-form {
  &__guidance {
    .make-coloured-box();
    .coloured-box-variant(@accent-blue-bg; @accent-blue-border; @accent-blue-text);
  }

  &__fields {
    &__section {
      margin-bottom: @line-height-computed;

      &--identity {
        color: inherit;
        background: none;
        border: 0;

        .form-horizontal {
          .control-label {
            font-weight: normal;
            color: @gray-light;
          }

          // Tighter spacing between fields
          .control-label, .form-control-static {
            padding: 0;
            min-height: 0;
          }
        }
      }

      &--boxed {
        .make-coloured-box();
        .coloured-box-variant(@accent-yellow-bg; @accent-yellow-border; @accent-yellow-text);

        .checkbox {
          margin-bottom: 0;
          padding: 5px 0 5px 5px;
        }

        .checkbox+.checkbox {
          margin-top: 0;
        }

        .checkbox:nth-of-type(odd) {
          background: darken(@accent-yellow-bg, 5%);
        }

        &:nth-of-type(odd) {
          .coloured-box-variant(@accent-blue-bg; @accent-blue-border; @accent-blue-text);

          .checkbox:nth-of-type(odd), .indent > .checkbox:nth-of-type(even) {
            background: darken(@accent-blue-bg, 5%);
          }
        }

        &.form-horizontal {
          .radio {
            padding-top: 0;

            input[type="radio"].radio-with-field {
              margin-top: 12px;
            }
          }
        }
      }

      legend {
        // Stop the legend from flowing through the top "border" of the fieldset
        float: left;

        // Reset Bootstrap's styling of <legend>
        font-size: @main-font-size;
        font-weight: normal;
        color: @text-color;
        border: 0;
        margin-bottom: 0;
      }

      .checkbox .help-popover {
        float: right;
        margin-right: 5px;
        i {
          font-weight: lighter;
          cursor: pointer;
        }
      }

      &__hint {
        color: @hint-colour;
        font-size: @hint-font-size;
      }

      &__assessments-table {
        &.tab-content {
          background: @nav-tabs-active-bg;

          > .active {
            display: table-row-group;
          }
        }
      }
    }

    &__checkbox-with-other {
      display: flex;
      justify-content: space-between;
      align-items: center;

      .other-input {
        margin: 0 10px 0 5px;
      }
    }

    &__contact-subfield {
      margin-left: 20px;
    }

    &__checkbox-subgroup {
      .indent {
        margin-left: 15px;

        .checkbox {
          margin-top: 5px;

          & + .checkbox {
            margin-top: -5px;
          }

        }
      }
    }
  }
}

.details {
  &--section {
    div.control-label, summary.control-label, .content {
      position: relative;
      min-height: 1px;
      padding-right: @grid-gutter-width / 2;
      float: left;

      &.control-label {

        @media (min-width: @screen-xs-min) {
          width: percentage(2/12);
        }
        @media (min-width: @screen-md-min) {
          // need to keep the labels in line with the labels in the left column of .case-details--actions
          // the left column is col-7 with a nested row containing col-3 for the label
          // this means the label is 7/12 * 3/12 of a page wide = 21/144 = 7/48
          width: percentage(7/48);
        }
        padding-left: @grid-gutter-width;
      }

      &.content {
        @media (min-width: @screen-xs) {
          width: percentage(10/12);
        }
        @media (min-width: @screen-md) {
          width: percentage(41/48);
        }
        padding-left: @grid-gutter-width / 2;
      }
    }
  }
}

.message-thread {

  &__message {
    .clearfix();
    border-radius: 10px;
    box-shadow: 5px 5px 10px 0 rgba(0,0,0,0.3);
    padding: @panel-heading-padding;
    margin-bottom: @panel-body-padding;
    word-break: break-word;
    .date {
      color: #5e5e5f;
    }

    &__author {
      font-weight: bold;
    }

    &__content {

    }

    &--student {
      background-color: #E5F6CF;
      border: 1px solid #919191;
      margin-right: 20%;
    }

    &--mco {
      background-color: #CFEFFB;
      border: 1px solid #c0c0c0;
      margin-left: 20%;
    }
  }

}

/*.message {
  .clearfix();
  border-radius: 10px;
  box-shadow: 5px 5px 10px 0 rgba(0,0,0,0.3);
  padding: @panel-heading-padding;
  margin-bottom: @panel-body-padding;
  word-break: break-word;
  .date {
    color: #5e5e5f;
  }
  .message--author {
    font-weight: bold;
  }
  .message--attachment {
    font-weight: bold;
    margin-top: (@line-height-computed / 2);
    padding-top: (@line-height-computed / 4);
    border-top: 1px solid @gray-light;
  }
  &.message-client {
    background-color: #E5F6CF;
    border: 1px solid #919191;
    margin-right: 20%;
  }
  &.message-team {
    background-color: #CFEFFB;
    border: 1px solid #c0c0c0;
    margin-left: 20%;
  }
  .message--read-indicator {
    font-size: @font-size-h5;
    color: #3E8C27;
  }

}
 */