-- HFC-33

CREATE TABLE UPSTREAMASSIGNMENT (
	ID NVARCHAR2(100) NOT NULL,
	MODULECODE NVARCHAR2(100) NOT NULL,
	ASSESSMENTGROUP NVARCHAR2(100) NOT NULL,
	SEQUENCE NVARCHAR2(100) NOT NULL,
	DEPARTMENTCODE NVARCHAR2(10) NOT NULL,
	NAME NVARCHAR2(4000) NOT NULL,
	CONSTRAINT "UPSTREAMASSIGNMENT_PK" PRIMARY KEY ("ID")
);
CREATE UNIQUE INDEX IDX_UPSTREAMASSIGNMENT_MAIN ON UPSTREAMASSIGNMENT(MODULECODE, SEQUENCE);
CREATE INDEX IDX_UPSTREAMASSIGNMENT_DEPT ON UPSTREAMASSIGNMENT(DEPARTMENTCODE);

CREATE TABLE UPSTREAMASSESSMENTGROUP (
	ID NVARCHAR2(100) NOT NULL,
	MODULECODE NVARCHAR2(100) NOT NULL,
	ASSESSMENTGROUP NVARCHAR2(100) NOT NULL,
	ACADEMICYEAR NUMBER(4,0) NOT NULL,
	OCCURRENCE NVARCHAR2(100) NOT NULL,
	MEMBERSGROUP_ID NVARCHAR2(4000),
	CONSTRAINT "UPSTREAMASSESSMENTGROUP_PK" PRIMARY KEY ("ID")
);
CREATE INDEX IDX_UAG_YEAR ON UPSTREAMASSESSMENTGROUP(ACADEMICYEAR);

CREATE TABLE USERGROUPSTATIC (
    group_id nvarchar2(255) not null,
    usercode nvarchar2(255)
);
CREATE INDEX IDX_USERGROUPSTATIC ON USERGROUPSTATIC(GROUP_ID);
-- and the exclude members since that's missing
CREATE INDEX IDX_USERGROUPEXCLUDE ON USERGROUPEXCLUDE(GROUP_ID);

ALTER TABLE USERGROUP ADD UNIVERSITYIDS NUMBER(1,0) DEFAULT 0; 